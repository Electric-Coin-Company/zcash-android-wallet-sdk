Index: gradle.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Speed up builds.  Keep these flags here for quick debugging of issues.\norg.gradle.caching=true\norg.gradle.configureondemand=false\norg.gradle.jvmargs=-Xmx3g -XX:MaxMetaspaceSize=1024m\norg.gradle.parallel=true\norg.gradle.vfs.watch=true\n\nandroid.useAndroidX=true\nandroid.builder.sdkDownload=true\nandroid.nonTransitiveRClass=true\n\n# Publishing\nZCASH_MAVEN_PUBLISH_SNAPSHOT_URL=https://oss.sonatype.org/content/repositories/snapshots/\nZCASH_MAVEN_PUBLISH_RELEASE_URL=https://oss.sonatype.org/service/local/staging/deploy/maven2/\n\n## Configure these with command line arguments (`-PZCASH_MAVEN_PUBLISH_USERNAME=`), environment variables (`ORG_GRADLE_PROJECT_ZCASH_MAVEN_PUBLISH_USERNAME`), or global ~/.gradle/gradle.properties\nZCASH_MAVEN_PUBLISH_USERNAME=\nZCASH_MAVEN_PUBLISH_PASSWORD=\n# GPG key is ASCII armored without a password, then Base64 encoded to escape the newlines\nZCASH_ASCII_GPG_KEY=\n\n# Configures whether release is an unstable snapshot, therefore published to the snapshot repository.\nIS_SNAPSHOT=true\n\nLIBRARY_VERSION=2.2.14\n\n# Kotlin compiler warnings can be considered errors, failing the build.\nZCASH_IS_TREAT_WARNINGS_AS_ERRORS=true\n\n# Optionally configure code coverage, as historically Jacoco has at times been buggy with respect to new Kotlin versions\nIS_ANDROID_INSTRUMENTATION_TEST_COVERAGE_ENABLED=false\n\n# Optionally configure test orchestrator.\n# It is disabled by default, because it causes tests to take about 2x longer to run.\nIS_USE_TEST_ORCHESTRATOR=false\n\n# Either provide a path to a Firebase Test Lab service key (best for CI)\n# OR\n# login with `./gradlew flankAuth` and provide the project name (best for local development)\n# Note: make sure you have Editor role, at least in the Firebase project, to be able to authenticate successfully.\nZCASH_FIREBASE_TEST_LAB_API_KEY_PATH=\nZCASH_FIREBASE_TEST_LAB_PROJECT=\n\nZCASH_EMULATOR_WTF_API_KEY=\n\n# Optionally configure minification\n# For now, don't minify the SDK but do minify the app. Minifying the app helps us test\n# the proguard-consumer rules in the SDK.\nIS_MINIFY_SDK_ENABLED=false\nIS_MINIFY_APP_ENABLED=true\n\n# Set keystore details to enable build signing.  Typically these\n# are overridden via ~/.gradle/gradle.properties to allow secure injection.\n# Debug keystore is useful if using Google Maps or Firebase, which require API keys to be linked\n# to a signing key. Without a debug keystore, the default Android debug keystore will be used.\n# Without a release signing configuration, the release output will not be signed.\nZCASH_DEBUG_KEYSTORE_PATH=\nZCASH_RELEASE_KEYSTORE_PATH=\nZCASH_RELEASE_KEYSTORE_PASSWORD=\nZCASH_RELEASE_KEY_ALIAS=\nZCASH_RELEASE_KEY_ALIAS_PASSWORD=\n\n# Switch this property to true only if you need to sign the release build with a debug key for local development.\nIS_SIGN_RELEASE_BUILD_WITH_DEBUG_KEY=false\n\n# Make the benchmarking target app debuggable. This is supposed to be used only for debugging while benchmarking.\n# To get more realistic results, keep it turned off, please. The debuggable option drastically reduces runtime\n# performance in order to support debugging features. Debuggable affects execution speed in ways that mean benchmark\n# improvements might not carry over to a real user experience (or even regress release performance).\nIS_DEBUGGABLE_WHILE_BENCHMARKING=false\n\n# Versions\nANDROID_MIN_SDK_VERSION=27\nANDROID_TARGET_SDK_VERSION=35\nANDROID_COMPILE_SDK_VERSION=35\n\n# When changing this, be sure to update the following places:\n# - .github/actions/setup/action.yml\n# - Clang major version in backend-lib/build.rs\nANDROID_NDK_VERSION=27.0.12077973\n\nANDROID_GRADLE_PLUGIN_VERSION=8.9.0\nDETEKT_VERSION=1.23.8\nDETEKT_COMPOSE_RULES_VERSION=0.4.22\nDOKKA_VERSION=2.0.0\nEMULATOR_WTF_GRADLE_PLUGIN_VERSION=0.18.1\nFLANK_VERSION=23.10.1\n# When changing this, be sure to change build-conventions/gradle.properties#FOOJAY_TOOLCHAIN_RESOLVER_VERSION too\nFOOJAY_TOOLCHAIN_RESOLVER_VERSION=0.8.0\nFULLADLE_VERSION=0.17.5\nGRADLE_VERSIONS_PLUGIN_VERSION=0.52.0\nKSP_VERSION=2.1.10-1.0.31\nKTLINT_VERSION=1.5.0\nPROTOBUF_GRADLE_PLUGIN_VERSION=0.9.4\nRUST_GRADLE_PLUGIN_VERSION=0.9.6\n\nANDROIDX_ACTIVITY_VERSION=1.10.1\nANDROIDX_ANNOTATION_VERSION=1.9.1\nANDROIDX_COMPOSE_COMPILER_VERSION=1.5.15\nANDROIDX_COMPOSE_MATERIAL3_VERSION=1.3.1\nANDROIDX_COMPOSE_VERSION=1.7.8\nANDROIDX_COMPOSE_MATERIAL_ICONS_VERSION=1.7.8\nANDROIDX_CONSTRAINT_LAYOUT_VERSION=2.2.1\nANDROIDX_CORE_VERSION=1.15.0\nANDROIDX_DATABASE_VERSION=2.4.0\nANDROIDX_ESPRESSO_VERSION=3.6.1\nANDROIDX_LIFECYCLE_VERSION=2.8.7\nANDROIDX_MULTIDEX_VERSION=2.0.1\nANDROIDX_NAVIGATION_VERSION=2.8.8\nANDROIDX_NAVIGATION_COMPOSE_VERSION=2.8.8\nANDROIDX_NAVIGATION_FRAGMENT_VERSION=2.8.8\nANDROIDX_PROFILE_INSTALLER_VERSION=1.4.1\nANDROIDX_SECURITY_CRYPTO_VERSION=1.1.0-alpha06\nANDROIDX_TEST_JUNIT_VERSION=1.2.1\nANDROIDX_TEST_MACROBENCHMARK_VERSION=1.3.3\nANDROIDX_TEST_ORCHESTRATOR_VERSION=1.5.1\nANDROIDX_TEST_CORE_VERSION=1.6.1\nANDROIDX_TEST_RUNNER_VERSION=1.6.2\nANDROIDX_TRACING_VERSION=1.3.0-beta01\nANDROIDX_UI_AUTOMATOR_VERSION=2.3.0\nCORE_LIBRARY_DESUGARING_VERSION=2.1.5\nGOOGLE_MATERIAL_VERSION=1.12.0\nGRPC_KOTLIN_VERSION=1.4.1\nGRPC_VERSION=1.71.0\nGSON_VERSION=2.10.1\nJACOCO_VERSION=0.8.12\nJAVAX_ANNOTATION_VERSION=3.0.0\nJUNIT_VERSION=5.12.0\nKOTLINX_COROUTINES_VERSION=1.10.1\nKOTLINX_DATETIME_VERSION=0.6.2\nKOTLINX_IMMUTABLE_COLLECTIONS_VERSION=0.3.8\nKOTLIN_VERSION=2.1.10\nMOCKITO_VERSION=5.16.0\nPROTOC_VERSION=4.30.0\nZCASH_WALLET_PLUGINS_VERSION=1.0.1\n\nBIP39_VERSION=1.0.9\n\n# This shouldn't be changed, as Android doesn't support targets beyond Java 8\nANDROID_JVM_TARGET=1.8\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/gradle.properties b/gradle.properties
--- a/gradle.properties	(revision 3c7ad23d5bb906f399950df4de6dd2f8a8183f05)
+++ b/gradle.properties	(date 1750832144984)
@@ -22,7 +22,7 @@
 # Configures whether release is an unstable snapshot, therefore published to the snapshot repository.
 IS_SNAPSHOT=true
 
-LIBRARY_VERSION=2.2.14
+LIBRARY_VERSION=2.2.15
 
 # Kotlin compiler warnings can be considered errors, failing the build.
 ZCASH_IS_TREAT_WARNINGS_AS_ERRORS=true
Index: sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2970000.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2970000.json b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2970000.json
new file mode 100644
--- /dev/null	(date 1750832203208)
+++ b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2970000.json	(date 1750832203208)
@@ -0,0 +1,8 @@
+{
+  "network": "main",
+  "height": "2970000",
+  "hash": "0000000000ee3bfa5f2bea5370cf11c26514301ec90767f14946f6140c320ae9",
+  "time": 1750722878,
+  "saplingTree": "010029b0399f26bb505af224d6a0d202f809137b599702cfbf1c73f0848c774124001f010677a9a883e7e2358e098440d649eb6e055a942a7961df624ef53bc79d33235f00015d69050274539c49f63765c0d8bceee445e316776fee15dfec8f2aa853688b0e0000000001a7d673486f2e846f6a56aa2fd0ec1f7d26e267c97e858fbe227b66e65b871a51010a81aa957653a45d7cb8c32af73cd3829f0370a238d3064f34c7a8ddfd75473301e20b555ae6b08cbc0a09fecf117e6647e859308fe543892d8201a457ff575b3201423d40e065a786a345af381165ac9489df3d81e0ae77ac74873cbb40d542ab5b016a582a7f4319b75fe5422c23f403df1f3de10ec81d4671c0e375633ebf5a982701373d9f359cef6d84b6b39bb8b093f326fcac45e04449baa6e2953fbc8706802a0001060af6a6c1415a6eaf780073ffa3d0ab35af7bb391bccc4e6ea65a1230dad83001ab58f1ebb2860e257c50350a3e1b54778b7729bdd11eacaa9213c4b5f4dbb44c00017d1ce2f0839bdbf1bad7ae37f845e7fe2116e0c1197536bfbad549f3876c3c590000013e2598f743726006b8de42476ed56a55a75629a7b82e430c4e7c101a69e9b02a011619f99023a69bb647eab2d2aa1a73c3673c74bb033c3c4930eacda19e6fd93b0000000160272b134ca494b602137d89e528c751c06d3ef4a87a45f33af343c15060cc1e0000000000",
+  "orchardTree": "01e3d5a18b885cc8b35cd2c843f78e61887410b436d8bf2b9d7653677a1cf8692a014c5457404a1f26b0f53fc217d3f2085a177d7b32cecfaac357918f4036e296181f01b17fd18ca2621b4330c63e13c9772f5458297b9619ea1b3ce99d36ecb228c42e0001e4afcc39f1b148f0dc3e898ad87dafe09821c5013981eac656989dfb24d6df31000196ac7b16bf66fe1f1776d641ce951b00694fa0a6abd0e237b7b66cb11484123501ebf685d6b1dc745dc697277dbc7ca5ad6aba281e958a92e6c9861fd2d6934f0700000195ee10837b3616bbde0cef5ba1ceb3591f5e48a3ec8ce761e6759c9a493fa53f01ccf034a40bf5bcf193fa3a1801db3ce77ae406de6aca7cf9c70f95f24647570f00000146264c653838fd1f185b7f791f64e2d4c9a8b8d5e9a416e3a95c5cac09071b2501fb5f9ae21147326374eda385015f1e471ee8644e0e91f1c64a0309f533d43f2400014c093ed9408ece3d125981e3d091e9c811ba0472a15ed8a14eca311642d7ec3100012d113bc8f6a4f41b3963cfa0717176c2d31ce7bfae4d250a1fff5e061dd9d3250160040850b766b126a2b4843fcdfdffa5d5cab3f53bc860a3bef68958b5f066170001cc2dcaa338b312112db04b435a706d63244dd435238f0aa1e9e1598d35470810012dcc4273c8a0ed2337ecf7879380a07e7d427c7f9d82e538002bd1442978402c01daf63debf5b40df902dae98dadc029f281474d190cddecef1b10653248a234150001e2bca6a8d987d668defba89dc082196a922634ed88e065c669e526bb8815ee1b000000000000"
+}
Index: sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2965000.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2965000.json b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2965000.json
new file mode 100644
--- /dev/null	(date 1750832202574)
+++ b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2965000.json	(date 1750832202574)
@@ -0,0 +1,8 @@
+{
+  "network": "main",
+  "height": "2965000",
+  "hash": "0000000000a107669d20cb4c5f88bbd960f9306489e81d5eb62169ef6db90926",
+  "time": 1750345993,
+  "saplingTree": "01c7302fd30f1215cab9e6f3f4db4624d217bbe7cb51349bf44defaa6c26e60a0c001f000001d91e069cfd8440b8590cbcf60d8eff0160bb4655ade7b57efe38bdff201778680001feb37f0d5e1788a548fd1a8015afc40455640dacebc06c5b2dc6e23cf2ae0e3c0178bc3388d3eb96f7ff6071f807e7d970206cf49f3eb824501ff30926d9ef670201962ac54baefaf92062df7f6560b591b4478d90bb343bf0448d3071af86defa2b0001ff0ad52a019414c748ef9ab07e9148950b823a5c938fdc02263dcc116a11ac620001423d40e065a786a345af381165ac9489df3d81e0ae77ac74873cbb40d542ab5b016a582a7f4319b75fe5422c23f403df1f3de10ec81d4671c0e375633ebf5a982701373d9f359cef6d84b6b39bb8b093f326fcac45e04449baa6e2953fbc8706802a0001060af6a6c1415a6eaf780073ffa3d0ab35af7bb391bccc4e6ea65a1230dad83001ab58f1ebb2860e257c50350a3e1b54778b7729bdd11eacaa9213c4b5f4dbb44c00017d1ce2f0839bdbf1bad7ae37f845e7fe2116e0c1197536bfbad549f3876c3c590000013e2598f743726006b8de42476ed56a55a75629a7b82e430c4e7c101a69e9b02a011619f99023a69bb647eab2d2aa1a73c3673c74bb033c3c4930eacda19e6fd93b0000000160272b134ca494b602137d89e528c751c06d3ef4a87a45f33af343c15060cc1e0000000000",
+  "orchardTree": "013b1c5ba41b097433949ecd5d1625bb6e875eeecb33c3a9e4f24a03873ff27101019a30a5d37b5190cca16fb7b8afbfd3ffc006c3e5c31095acca222f182f6a8b271f000001e887b64ea5fb3ea18ed1b2c30c0273f8bebb100d9764d821716068ecdd68be1b0195738f29eb7a542e6bd2985771d5f228d7dedebd59beaf1b4e2783ded2ae651700014652512a77e2605c4e8e78805ee9737f3f3b639c8f2678c7f6c474cbe30dbb220001f1ae918b3c5ef76506e2741b0300a696fd06b00bd7b1f842f45f1220d71f260a0001d8f9d48f6801c79a9a889c071957161ec4438309d1c36397e10d4dc4319c50070001f635226f8d6a2d3d9f0cce9c5ca1b34be9c9b6f7e4cf56c9e4778e63c96de2290001fb5f9ae21147326374eda385015f1e471ee8644e0e91f1c64a0309f533d43f2400014c093ed9408ece3d125981e3d091e9c811ba0472a15ed8a14eca311642d7ec3100012d113bc8f6a4f41b3963cfa0717176c2d31ce7bfae4d250a1fff5e061dd9d3250160040850b766b126a2b4843fcdfdffa5d5cab3f53bc860a3bef68958b5f066170001cc2dcaa338b312112db04b435a706d63244dd435238f0aa1e9e1598d35470810012dcc4273c8a0ed2337ecf7879380a07e7d427c7f9d82e538002bd1442978402c01daf63debf5b40df902dae98dadc029f281474d190cddecef1b10653248a234150001e2bca6a8d987d668defba89dc082196a922634ed88e065c669e526bb8815ee1b000000000000"
+}
Index: sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2967500.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2967500.json b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2967500.json
new file mode 100644
--- /dev/null	(date 1750832202902)
+++ b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2967500.json	(date 1750832202902)
@@ -0,0 +1,8 @@
+{
+  "network": "main",
+  "height": "2967500",
+  "hash": "00000000006850e920a4824be74c7fc8d6fddaa82c1e553f64fd4a8ea828ed6f",
+  "time": 1750534147,
+  "saplingTree": "0137c19de138089528a6915f54a89d9305963129d08167606286abdbce38d9342001a4146993a4325c7621160ee89697718ea7b43fdd120adb74dfa1ba1cb591fa0c1f01dfada7dbaa8ef948302e83c953bac528386b2ac3e435c9aa1aed7b9dabd89c1401c9c818c0eb97f9f4da5eb2277e2e6c2e2d639eaf2ea297d87d0b7bfc67e7b60a01efc9a5452edf07b14d18f73d19b656c9c400097fb82ffcdd4ded62102003125d015c8c6ae15d3cbe34d1f92a9014764832df8469a3d36689808df0eb37e4554532000000016aef2db62a77ddf3b9699af80a0d911f4a788b75e66dd7fd39e79b82ec6b8f320001e20b555ae6b08cbc0a09fecf117e6647e859308fe543892d8201a457ff575b3201423d40e065a786a345af381165ac9489df3d81e0ae77ac74873cbb40d542ab5b016a582a7f4319b75fe5422c23f403df1f3de10ec81d4671c0e375633ebf5a982701373d9f359cef6d84b6b39bb8b093f326fcac45e04449baa6e2953fbc8706802a0001060af6a6c1415a6eaf780073ffa3d0ab35af7bb391bccc4e6ea65a1230dad83001ab58f1ebb2860e257c50350a3e1b54778b7729bdd11eacaa9213c4b5f4dbb44c00017d1ce2f0839bdbf1bad7ae37f845e7fe2116e0c1197536bfbad549f3876c3c590000013e2598f743726006b8de42476ed56a55a75629a7b82e430c4e7c101a69e9b02a011619f99023a69bb647eab2d2aa1a73c3673c74bb033c3c4930eacda19e6fd93b0000000160272b134ca494b602137d89e528c751c06d3ef4a87a45f33af343c15060cc1e0000000000",
+  "orchardTree": "017bfe5797fd048b3faecf0a83cc7e949ddeb54e9582debcb4cdeb46d5176a3f26017778dbaae611735f6ffc3da660e2fc8f787e6304e01e094d2311d6b857cba33a1f01ac6968e62f81d4e38610c3a6e57e9bcd8d28e4d34e3356c5932e82cee2546a01000000016a5318225ab2cd385a7e53bc90d1e0c7f53943ef6a817232cac013c3c093a23d01ec7e6086595fb17273c3ecc6888b376b17f423284083c95b4ff7e36a5d21810301548d23155accb481f465a5a713f9a2d896521fff0ee451db80bfd3cc9a1b903a0148c7b9fa1467cb52519aa5737898f5f630c0045842892ab6d41ac4c4ac6caf2e0001a379be4bcb613b7f0fa827e4dd22ba118cfda4aafe446cccc0b1aea7a1bbbf1c01e04fc7dddc07e07e01a346269e526e34befc12af795fafaf7f13bd220f00750701f635226f8d6a2d3d9f0cce9c5ca1b34be9c9b6f7e4cf56c9e4778e63c96de2290001fb5f9ae21147326374eda385015f1e471ee8644e0e91f1c64a0309f533d43f2400014c093ed9408ece3d125981e3d091e9c811ba0472a15ed8a14eca311642d7ec3100012d113bc8f6a4f41b3963cfa0717176c2d31ce7bfae4d250a1fff5e061dd9d3250160040850b766b126a2b4843fcdfdffa5d5cab3f53bc860a3bef68958b5f066170001cc2dcaa338b312112db04b435a706d63244dd435238f0aa1e9e1598d35470810012dcc4273c8a0ed2337ecf7879380a07e7d427c7f9d82e538002bd1442978402c01daf63debf5b40df902dae98dadc029f281474d190cddecef1b10653248a234150001e2bca6a8d987d668defba89dc082196a922634ed88e065c669e526bb8815ee1b000000000000"
+}
Index: CHANGELOG.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Changelog\nAll notable changes to this library will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this library adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n### Fixed\n- Tor client is now optional in case it's instantiation fails to prevent SDK\n\n## [2.2.14] - 2025-06-16\n\n## Fixed\n- FFI 0.17.0 introduces retry logic for Tor, significantly improving the reliability of currency conversion fetches.\n\n### Changed\n- Added a `ServiceOption` parameter for functions `WalletClient.getServerInfo`, `WalletClient.getLatestBlockHeight`, \n  `WalletClient.fetchTransaction`, `WalletClient.submitTransaction` and `WalletClient.getTreeState` to add the \n  option to execute over Tor. Custom lightwalletd servers over VPNs like Tailscape might stop working when using Tor.\n- `Synchronizer.getFastestServers` function signature changed and does not require `Context` parameter anymore\n\n## [2.2.13] - 2025-05-16\n\n### Added\n- `Synchronizer.getCustomUnifiedAddress` allows the caller to obtain a newly-generated\n  unified address with user-specified `UnifiedAddressRequest` of type `P2PKH`, `Sapling` and `Orchard` supporting \n  the ability to combine these using an infix `and` function.\n\n## [2.2.12] - 2025-04-28\n\n### Added\n- `Synchronizer.areFundsSpendable` that indicates whether are the shielded wallet balances spendable or not during \n  the block synchronization process.\n- `SdkSynchronizer.estimateBirthdayHeight(date: Date)` has been added to get an estimated height for a given date, \n  typically used for estimating birthday.\n\n### Changed\n- The base sapling params download URL has been changed to `https://download.z.cash/downloads/`\n- Checkpoints update\n\n### Fixed\n- As part of the sapling params download URL change, the extra `/` character has been removed from the result path\n\n## [2.2.11] - 2025-04-04\n\n### Fixed\n- Database migration bugs in `zcash_client_sqlite 0.16.0` and `0.16.1` have\n  been fixed by updating to `zcash_client_sqlite 0.16.2`. These caused a few\n  wallets to stop working after the 2.2.9 upgrade due to failed database\n  migrations.\n\n## [2.2.9] - 2025-03-25\n\n### Fixed\n- The note commitment tree bug has been resolved using a new internal `Backend.fixWitnesses()` API \n\n### Changed\n- Dependency update:\n  - Gradle 8.13\n  - Android Gradle Plugin 8.9.0\n  - Kotlin 2.1.10\n  - Bip39 1.0.9\n  - Other dependencies update\n- Migrated to `zcash_client_backend 0.18.0`, `zcash_client_sqlite 0.16.0`\n- Added support for gap-limit-based discovery of transparent wallet addresses.\n- The internal `fetch-utxos` logic is now triggered only in every `init` and `complete` block sync phases, and it \n  fetches UTXOs from height 0 to support the Ledger funds rescue requirement.\n- Checkpoints update\n\n## [2.2.8] - 2025-03-03\n\n### Added\n- `AccountMetadataKey`\n- `DerivationTool.deriveAccountMetadataKey`\n- `DerivationTool.derivePrivateUseMetadataKey`\n- `Synchronizer.getTransactionsByMemoSubstring()` has been added\n- `Synchronizer.redactPcztForSigner`\n- `Synchronizer.pcztRequiresSaplingProofs`\n- `TransactionId` object has been added and used instead of `FirstClassByteArray` in `TransactionOverview` and \n  `PendingTransaction` model classes\n- `TransactionOverview.totalSpent` and `TransactionOverview.totalReceived` properties added to provide more \n  information about shielding transaction\n\n### Changed\n- Migrated to Rust 1.84.1.\n- `Synchronizer.getTransactions(accountUuid)` and `Synchronizer.transactions` now internally fill in \n  `TransactionOverview.blockTimeEpochSeconds` based on the related block time \n- `Synchronizer.transactions` has been renamed to `Synchronizer.allTransactions` to emphasize the fact the API \n  returns transactions for all the wallet accounts\n- `Synchronizer.getRecipients` now returns both address and an account existing in database\n\n## [2.2.7] - 2024-12-18\n\n### Added\n- `Synchronizer.importAccountByUfvk()` has been added\n- `Synchronizer.getAccounts()` returning all the created or imported accounts. See the documentation in `Account`.\n- `Synchronizer.walletBalances: StateFlow<Map<AccountUuid, AccountBalance>?>` that is replacement for the removed \n  `orchardBalances`, `saplingBalances`, and `transparentBalance`\n- `getTransactions(accountUuid: AccountUuid)` to get transactions belonging to the given account\n- `Synchronizer.createPcztFromProposal`\n- `Synchronizer.addProofsToPczt`\n- `Synchronizer.createTransactionFromPczt`\n- `Zip32AccountIndex`, `AccountUuid`, `AccountUsk`, `AccountPurpose`, `AccountCreateSetup`, `AcountImportSetup`, and \n  `Pczt` model classes have been added to support the new or the changed APIs\n\n### Changed\n- `Account` data class works with `accountUuid: AccountUuid` instead of the previous ZIP 32 account index\n- These functions from `DerivationTool` have been refactored to work with the new `Zip32AccountIndex` instead of the\n  `Account` data class: `deriveUnifiedSpendingKey`, `deriveUnifiedAddress`, `deriveArbitraryAccountKey`\n- `WalletCoordinator` now provides a way to instantiate `Synchronizer` with the new `accountName` and `keySource` \n  parameters\n- `UnifiedSpendingKey` does not hold `Account` information anymore, it has been replaced by `AccountUsk` model class \n  in a few internal cases\n- `Synchronizer.send` extension function receives `Account` on input\n- `PendingTransaction` sealed class descendants have been renamed\n- `RustLayerException.GetCurrentAddressException` has been renamed to `RustLayerException.GetAddressException`\n- Checkpoints update\n\n### Removed\n- `Synchronizer.sendToAddress` and `Synchronizer.shieldFunds` have been removed, use \n  `Synchronizer.createProposedTransactions` and `Synchronizer.proposeShielding` instead\n- `Synchronizer.orchardBalances`, `Synchronizer.saplingBalances`, and `Synchronizer.transparentBalance`\n  (use `Synchronizer.walletBalances` instead).\n\n### Fixed\n- The `CompactBlockProcessor` now correctly distinguishes between `Response.Failure.Server.Unavailable` and other \n  errors in its `refreshUtxos` API. It then sets its state to `State.Disconnected` in such a case.\n\n## [2.2.6] - 2024-11-16\n\n### Added\n- `DerivationTool.deriveArbitraryWalletKey`\n- `DerivationTool.deriveArbitraryAccountKey`\n- `Synchronizer.getTransactionOutputs` API has been added. It enables to fetch all transaction outputs from database.\n\n## [2.2.5] - 2024-10-22\n\n### Added\n- The new `Synchronizer.proposeFulfillingPaymentUri` API has been added. It enables constructing Proposal object from \n  the given ZIP-321 Uri, and then creating transactions from it.\n\n### Changed\n- Migrated to Rust 1.82.0.\n- `Synchronizer.rewindToNearestHeight` now returns the block height that was\n  actually rewound to, or `null` if no rewind was performed.\n- `Synchronizer.proposeTransfer` throws `TransactionEncoderException.ProposalFromParametersException`\n- `Synchronizer.proposeShielding` throws `TransactionEncoderException.ProposalShieldingException`\n- `Synchronizer.createProposedTransactions` throws `TransactionEncoderException.TransactionNotCreatedException` and `TransactionEncoderException.TransactionNotFoundException`\n- `LightWalletClient` now implements `Closeable` and is thus correctly cleaned up in `SdkSynchronizer` and\n  `FastestServerFetcher` after it's used\n- Checkpoints update\n\n### Fixed\n- `FailedSynchronizationException` reported using `Synchronizer.onProcessorErrorHandler` now contains the full \n  stacktrace history\n\n### Removed\n- `Synchronizer.getNearestRewindHeight` (its function is now handled internally\n  by `Synchronizer.rewindToNearestHeight`).\n- `Synchronizer.quickRewind` and `CompactBlockProcessor.quickRewind` have been removed as they triggered the block \n  rewind action at an invalid height. Use `Synchronizer.rewindToNearestHeight` instead.\n\n## [2.2.4] - 2024-09-16\n\n### Added\n- `TransactionOverview.isShielding` has been added to indicate the shielding transaction type\n\n### Changed\n- NDK version has been updated to `27.0.12077973`\n- Android `compileSdkVersion` and `targetSdkVersion` has been updated to 35\n- `CompackBlockProcessor.calculatePollInterval` now uses a randomized poll interval to avoid exposing computation time\n\n### Fixed\n- Android 15 (SDK level 35) support added for 16 KB memory page size\n- The broken disposing logic `TorClient.freeTorRuntime` for Android SDK API level 27 has been fixed\n\n## [2.2.3] - 2024-09-09\n\n### Changed\n- Several functions have been updated to accept `cash.z.ecc.android.sdk.model.Locale` instead of\n  `cash.z.ecc.android.sdk.model.MonetarySeparators` as an argument. MonetarySeparators are derived from Locale now.\n- `FiatCurrencyConversion.toZatoshi`\n- `Zatoshi.toFiatCurrencyState`\n- `Zatoshi.toFiatString`\n- `BigDecimal.convertFiatDecimalToFiatString`\n- `Zatoshi.Companion.fromZecString`\n\n### Added\n- `Double?.convertUsdToZec` has been added as we are moving away from `BigDecimal` in favor of primitive types\n- `Locale.getDefault()` has been added\n- Transaction resubmission feature has been added to the CompactBlockProcessor's regular actions. This new action\n  periodically checks unmined sent transactions that are still within their expiry window and resubmits them if\n  there are any.\n\n### Fixed\n- Fastest Server calculation changed for estimated height\n\n## [2.2.2] - 2024-09-03\n\n### Fixed\n- Migrated to `zcash_client_sqlite 0.11.2` to remove use of a database feature\n  that prevented use of Zashi on older devices.\n\n### Changed\n- Checkpoints update\n\n## [2.2.1] - 2024-08-22\n\n### Fixed\n- A database migration misconfiguration that could result in problems with wallet\n  initialization was fixed.\n\n## [2.2.0] - 2024-08-22\n\nThis release adds several important new features:\n- Currency exchange rates (currently just USD/ZEC) are now made available via the SDK.\n  The exchange rate computed as the median of values provided by at least three separate\n  cryptocurrency exchanges, and is fetched over Tor connections in order to avoid leaking\n  the wallet's IP address to the exchanges.\n- Sending to ZIP 320 (TEX) addresses is now supported. When sending to a ZIP 320 address,\n  the wallet will first automatically de-shield the required funds to a fresh ephemeral \n  transparent address, and then will make a second fully-transparent transaction sending\n  the funds to the eventual recipient that is not linkable via on-chain information to any \n  other transaction in the  user's wallet.\n- As part of adding ZIP 320 support, the SDK now also provides full support for recovering\n  transparent transaction history. Prior to this release, only transactions belonging to the\n  wallet that contained either some shielded component OR a member of the current\n  transparent UTXO set were included in transaction history.\n\n### Changed\n- Migrated to Rust 1.80.0.\n- `Synchronizer.proposeTransfer` now supports TEX addresses (ZIP 320).\n- Internal transactions-enhancing logic has changed to support the history of transactions made to TEX addresses \n\n### Added\n- `Synchronizer.isValidTexAddr` which checks whether the given address is a valid ZIP 320 TEX address\n- `Synchronizer.exchangeRateUsd` is a `StateFlow` containing the latest USD/ZEC\n  exchange rate, along with the `Instant` it was fetched. It can be initialized\n  and refreshed by calling `Synchronizer.refreshExchangeRateUsd()`.\n- `ZatoshiExt.toFiatString` is now a public function\n- `Synchronizer.getFastestServers([LightWalletEndpoint])` is a flow that measures connections to given endpoints and\n  returns the three fastest ones\n- `Synchronizer.getTAddressTransactions` returns all the transactions for a given t-address over the given range\n\n### Changed\n- Checkpoints update\n\n## [2.1.3] - 2024-08-08\n\n### Changed\n- The fetch UTXOs action is now hooked up at the beginning of every scanning phase of the block synchronization logic \n  instead of being called every 1000 blocks together with shielded transactions enhancing. It uses \n  `fullyScannedHeight` as its lower bound.\n- The fetch UTXOs action reports `FetchUtxosException` to the wrapping `onProcessorErrorHandler` or \n  `onCriticalErrorHandler` in case any error occurs \n- The internal `CompactBlockProcessor.SYNC_BATCH_SIZE` has changed. Block synchronization logic now works above \n  batch of blocks with size 1000 blocks instead of just 100 blocks, except the Zcash sandblasting period in which \n  batch size of 100 blocks is still used.\n- The internal `FileCompactBlockRepository.BLOCKS_METADATA_BUFFER_SIZE` constant has been raised from 10 to 1000 to \n  match the block synchronization batch size. \n- The overall speed-up of the entire block synchronization logic, thanks to the both mentioned synchronization \n  improvements above is about 50% out of the Zcash sandblasting period. There is still some improvement in the \n  sandblasting period.\n- Checkpoints update\n\n### Fixed\n- `Synchronizer.refreshUtxos(account: Account, since: BlockHeight)` now correctly uses the `since` parameter in the \n  underlying logic and fetches UTXOs from that height\n\n## [2.1.2] - 2024-07-16\n\n### Added\n- `SdkSynchronizer.closeFlow()` is a Flow-providing version of `Synchronizer.close()`. It safely closes the \n  Synchronizer together with the related components.\n- `WalletCoordinator.deleteSdkDataFlow` is a Flow-providing function that deletes all the persisted data in the SDK \n  (databases associated with the wallet, all compact blocks, and data derived from those blocks) but preserves the \n  wallet secrets.\n\n### Changed\n- The Android SDK target API level has been updated to version 34\n- `ZecString` and `Zatoshi` APIs now handle `MonetarySeparators` with the same grouping and decimal characters\n- Checkpoints update\n\n### Fixed\n- `MonetarySeparators` API does not signal an unsupported state to clients if used on a device with Locale with the \n same decimal and grouping separators. Instead, it will just omit the grouping separator.\n\n## [2.1.1] - 2024-04-23\n\n### Changed\n- The SDK components no longer contain logging statements in the release build\n- `safelyConvertToBigDecimal()` API from `CurrencyFormatter.kt` now expects decimal separator Char on input\n- Gradle 8.7\n- Android Gradle Plugin 8.3.0\n- Kotlin 1.9.23\n- Other dependencies update\n- Checkpoints update\n\n## [2.1.0] - 2024-04-09\n\n### Added\n- The Orchard support has been finished, and the SDK now fully supports sending and receiving funds on the Orchard \n  addresses\n\n### Fixed\n- SDK release 1.11.0-beta01 documented that `Synchronizer.new` would throw an\n  exception indicating that an internal migration requires the wallet seed, if\n  called with `null`. This has been unintentionally broken the entire time: the\n  handling logic for this case was accidentally removed shortly after it was\n  added. The SDK now correctly throws `InitializeException.SeedRequired`.\n\n### Changed\n- `Synchronizer.refreshAllBalances` now refreshes the Orchard balances as well\n- The SDK uses ZIP-317 fee system internally\n- `ZcashSdk.MINERS_FEE` has been deprecated, and will be removed in 2.1.x\n- `ZecSend` data class now provides `Proposal?` object initiated using `Synchronizer.proposeTransfer`\n- Wallet initialization using `Synchronizer.new` now could throw a new `SeedNotRelevant` exception when the provided \n  seed is not relevant to any of the derived accounts in the wallet database\n- Checkpoints update\n\n## [2.0.7] - 2024-03-08\n\n### Fixed\n- `Synchronizer.sendToAddress` and `Synchronizer.shieldFunds` now throw an\n  exception if the created transaction successfully reaches `lightwalletd` but\n  fails to reach its backing full node's mempool.\n\n### Changed\n- `WalletBalance` now contains new fields `changePending` and `valuePending`. Fields `total` and `pending` are \n  still provided. See more in the class documentation \n  `sdk-lib/src/main/java/cash/z/ecc/android/sdk/model/WalletBalance.kt`\n- `Synchronizer.transparentBalances: WalletBalance` to `Synchronizer.transparentBalance: Zatoshi`\n- `WalletSnapshot.transparentBalance: WalletBalance` to `WalletSnapshot.transparentBalance: Zatoshi`\n- `Memo.MAX_MEMO_LENGTH_BYTES` is now available in public API\n- `Synchronizer.sendToAddress` and `Synchronizer.shieldFunds` have been\n  deprecated, and will be removed in 2.1.x (which will create multiple\n  transactions at once for some recipients).\n\n### Added\n- APIs that enable constructing a proposal for transferring or shielding funds,\n  and then creating transactions from a proposal. The intermediate proposal can\n  be used to determine the required fee, before committing to producing\n  transactions.\n  - `Synchronizer.proposeTransfer`\n  - `Synchronizer.proposeShielding`\n  - `Synchronizer.createProposedTransactions`\n- `WalletBalanceFixture` class with mock values that are supposed to be used only for testing purposes \n- `Memo.countLength(memoString: String)` to count memo length in bytes\n- `PersistableWallet.toSafeString` is a safe alternative for the regular [toString] function that prints only \n  non-sensitive parts\n- `Synchronizer.validateServerEndpoint` this function checks whether the provided server endpoint is valid. \n  The validation is based on comparing:\n  * network type\n  * sapling activation height\n  * consensus branch id\n\n## [2.0.6] - 2024-01-30\n\n### Fixed\n- In 2.0.5, `Synchronizer.shieldFunds` always returned an error due to a crash\n  on the Rust side. This release fixes the underlying bug.\n\n## [2.0.5] - 2024-01-30\n\n### Added\n- `cash.z.ecc.android.sdk.model.Proposal` (currently unused in the public API).\n- System tracing to `CompactBlockProcessor` and the Rust backend.\n\n### Changed\n- Migrated to NDK 26.1.10909125 and Rust 1.75.0.\n- The wallet balances are now updated immediately upon synchronizer start.\n- Existing wallets will now only fetch the most recent subtree roots, improving\n  synchronizer startup times.\n- Performance of block scanning and `SdkSynchronizer.refreshAllBalances` has\n  been improved.\n- `WalletAddressFixture` fixture properties have been updated\n\n### Fixed\n- The transparent wallet balance `StateFlow` now shows the total transparent\n  balance in the wallet, instead of the balance of the default address. It also\n  now treats all zero-conf balance as available.\n\n### Removed\n- `SdkSynchronizer.refreshSaplingBalance` and\n  `SdkSynchronizer.refreshTransparentBalance`\n  (use `SdkSynchronizer.refreshAllBalances` instead).\n\n## [2.0.4] - 2024-01-08\n\n### Added\n- `TransactionOverview.txIdString()` to provide a readable transaction ID to SDK-consuming apps\n- `MonetarySeparators.current(locale: Locale? = null)` now accepts `Locale` on input to force separators locale. If \n  no value is provided, the default one is used. \n\n### Removed\n- `LightWalletEndpointExt` and its functions and variables were removed from the SDK's public APIs entirely. It's \n  preserved only for testing and wallet Demo app purposes. The calling wallet app should provide its own \n  `LightWalletEndpoint` instance within `PersistableWallet` or `SdkSynchronizer` APIs.\n\n### Changed\n- Gradle 8.5\n- Kotlin 1.9.21\n- Other dependency update\n- Checkpoints update\n\n### Removed\n- Several internally unused exceptions from `Exceptions.kt`\n\n## [2.0.3] - 2023-11-08\n\n### Added\n- `Synchronizer.getExistingDataDbFilePath` public API to check and provide file path to the existing data database \n  file or throws [InitializeException.MissingDatabaseException] if the database doesn't exist yet. See #1292.\n\n### Changed\n- `CompactBlockProcessor` switched internally from balance and progress FFIs to wallet summary FFI APIs. This change \n  brings a block synchronization speed up. No action is required on the client side. See #1282.\n- Checkpoints update\n\n## [2.0.2] - 2023-10-20\n\n### Fixed\n- Incorrect note deduplication in the `v_transactions` database view: This is a fix in the Rust layer. The amount \n  sent in the transaction was incorrectly reported even though the actual amount was correctly sent. Now, clients \n  should see the amount they expect to see.\n\n### Changed\n- Checkpoints update\n\n## [2.0.1] - 2023-10-02\n\n### Changed\n- `PersistableWallet` API provides a new `endpoint` parameter of type `LightWalletEndpoint`, which could be used for \n  the Lightwalletd server customization. The new parameter is part of PersistableWallet persistence. The SDK handles \n  the persistence migration internally.\n- The **1_000** Zatoshi fee proposed in ZIP-313 is deprecated now, so the minimum is **10_000** Zatoshi, defined in \n  ZIP-317—the `ZcashSdk.MINERS_FEE` now returns the correct value as described above. Note that the actual fee is \n  handled in a rust layer.\n- Adopted the latest Bip39 library v1.0.6\n\n## [2.0.0] - 2023-09-25\n\n## [2.0.0-rc.4] - 2023-09-22\n\n### Fixed\nTransparent balance is now correctly updated after a shielding transaction is\ncreated, instead of only once the transaction is mined.\n\n## [2.0.0-rc.3] - 2023-09-21\n\n### Fixed\nThe Kotlin layer of the SDK now correctly matches the Rust layer `PrevHashMismatch` exception with `ContinuityError` \nand triggers rewind action. \n\n## [2.0.0-rc.2] - 2023-09-20\n\n### Changed\n- Some of the `TransactionOverview` class parameters changed:\n  - `id` was removed\n  - `index` is nullable\n  - `feePaid` is nullable\n  - `blockTimeEpochSeconds` is nullable\n\n### Removed\n- Block heights are absolute, not relative. Thus, these two operations above the `BlockHeight` object were removed:\n  - `plus(other: BlockHeight): BlockHeight`\n  - `minus(other: BlockHeight): BlockHeight`\n\n## [2.0.0-rc.1] - 2023-09-12\n\n### Notable Changes\n\n- `CompactBlockProcessor` now processes compact blocks from the lightwalletd\n  server using the **Spend-before-Sync** algorithm, which allows scanning of\n  wallet blocks to be performed in arbitrary order and optimized to make it\n  possible to spend received notes without waiting for synchronization to be\n  complete. This feature shortens the time until a wallet's spendable balance\n  can be used.\n- The block synchronization mechanism is additionally about one-third faster\n  thanks to an optimized `CompactBlockProcessor.SYNC_BATCH_SIZE` (issue **#1206**).\n\n### Removed\n- `CompactBlockProcessor.ProcessorInfo.lastSyncHeight` no longer had a\n  well-defined meaning after implementation of the **SpendBeforeSync**\n  synchronization algorithm and has been removed.\n  `CompactBlockProcessor.ProcessorInfo.overallSyncRange` provides related\n  information.\n- `CompactBlockProcessor.ProcessorInfo.isSyncing`. Use `Synchronizer.status` instead.\n- `CompactBlockProcessor.ProcessorInfo.syncProgress`. Use `Synchronizer.progress` instead.\n- `alsoClearBlockCache` parameter from rewind functions of `Synchronizer` and\n  `CompactBlockProcessor`, as it has no effect on the current behaviour of\n  these functions.\n- Internally, we removed access to the shared block table from the Kotlin\n  layer, which resulted in eliminating these APIs:\n  - `SdkSynchronizer.findBlockHash()`\n  - `SdkSynchronizer.findBlockHashAsHex()`\n\n### Changed\n- `CompactBlockProcessor.quickRewind()` and `CompactBlockProcessor.rewindToNearestHeight()`\n  now might fail due to internal changes in getting scanned height. Thus, these\n  functions now return `Boolean` results.\n- `Synchronizer.new()` and `PersistableWallet` APIs require a new\n  `walletInitMode` parameter of type `WalletInitMode`, which describes wallet\n  initialization mode. See related function and sealed class documentation.\n\n### Fixed\n- `Synchronizer.getMemos()` now correctly returns a flow of strings for sent\n  and received transactions. Issue **#1154**.\n- `CompactBlockProcessor` now triggers transaction polling while block\n  synchronization is in progress as expected. Clients will be notified shortly\n  after every new transaction is discovered via `Synchronizer.transactions`\n  API. Issue **#1170**.\n\n## [1.21.0-beta01]\n\nNote: This is the last _1.x_ version release. The upcoming version _2.0_ brings the **Spend-before-Sync** feature,\nwhich speeds up discovering the wallet's spendable balance.\n\n### Changed\n- Updated dependencies:\n   - Gradle 8.3\n   - AGP 8.1.1\n   - Kotlin 1.9.10\n   - Coroutines 1.7.3\n   - Compose\n   - AndroidX\n   - gRPC/Protobuf\n   - etc.\n- Checkpoints\n\n## 1.20.0-beta01\n- The SDK internally migrated from `BackendExt` rust backend extension functions to more type-safe `TypesafeBackend`.\n- `Synchronizer.getMemos()` now internally handles expected `RuntimeException` from the rust layer and transforms it\n  in an empty string.\n\n## 1.19.0-beta01\n### Changed\n- Adopted the latest Bip39 version 1.0.5\n\n### Fixed\n- `TransactionOverview` object returned with `SdkSynchronizer.transactions` now contains a correct `TransactionState.\n  Pending` in case of the transaction is mined,but not fully confirmed.\n- When the SDK internally works with a recently created transaction there was a moment in which could the transaction\n  causes the SDK to crash, because of its invalid mined height. Fixed now.\n\n## 1.18.0-beta01\n- Synchronizer's functions `getUnifiedAddress`, `getSaplingAddress`, `getTransparentAddress`, and `refreshUtxos` now\n  do not provide `Account.DEFAULT` value for the account argument. As accounts are not fully supported by the SDK\n  yet, the caller should explicitly set Account.DEFAULT as the account argument to keep the same behavior.\n- Gradle 8.1.1\n- AGP 8.0.2\n\n## 1.17.0-beta01\n- Transparent fund balances are now displayed almost immediately\n- Synchronization of shielded balances and transaction history is about 30% faster\n- Disk space usage is reduced by about 90%\n- `Synchronizer.status` has been simplified by combining `DOWNLOADING`, `VALIDATING`, and `SCANNING` states into a single `SYNCING` state.\n- `Synchronizer.progress` now returns `Flow<PercentDecimal>` instead of `Flow<Int>`. PercentDecimal is a type-safe model. Use `PercentDecimal.toPercentage()` to get a number within 0-100% scale.\n- `Synchronizer.clearedTransactions` has been renamed to `Synchronizer.transactions` and includes sent, received, and pending transactions.  Synchronizer APIs for listing sent, received, and pending transactions have been removed.  Clients can determine whether a transaction is sent, received, or pending by filtering the `TransactionOverview` objects returned by `Synchronizer.transactions`\n- `Synchronizer.send()` and `shieldFunds()` are now `suspend` functions with `Long` return values representing the ID of the newly created transaction.  Errors are reported by thrown exceptions.\n - `DerivationTool` is now an interface, rather than an `object`, which makes it easier to inject alternative implementations into tests.  To adapt to the new API, replace calls to `DerivationTool.methodName()` with `DerivationTool.getInstance().methodName()`.\n - `DerivationTool` methods are no longer suspending, which should make it easier to call them in various situations.  Obtaining a `DerivationTool` instance via `DerivationTool.getInstance()` frontloads the need for a suspending call.\n - `DerivationTool.deriveUnifiedFullViewingKeys()` no longer has a default argument for `numberOfAccounts`.  Clients should now pass `DerivationTool.DEFAULT_NUMBER_OF_ACCOUNTS` as the value. Note that the SDK does not currently have proper support for multiple accounts.\n - The SDK's internals for connecting with librustzcash have been refactored to a separate Gradle module `backend-lib` (and therefore a separate artifact) which is a transitive dependency of the Zcash Android SDK.  SDK consumers that use Gradle dependency locks may notice this difference, but otherwise it should be mostly an invisible change.\n\n## 1.16.0-beta01\n(This version was only deployed as a snapshot and not released on Maven Central)\n### Changed\n - The minimum supported version of Android is now API level 27.\n\n## 1.15.0-beta01\n### Changed\n- A new package `sdk-incubator-lib` is now available as a public API.  This package contains experimental APIs that may be promoted to the SDK in the future.  The APIs in this package are not guaranteed to be stable, and may change at any time.\n- `Synchronizer.refreshUtxos` now takes `Account` type as first parameter instead of transparent address of type\n    `String`, and thus it downloads all UTXOs for the given account addresses. The Account object provides a default `0` index Account with `Account.DEFAULT`.\n\n## 1.14.0-beta01\n### Changed\n - The minimum supported version of Android is now API level 24.\n\n## 1.13.0-beta01\n### Changed\n- The SDK's internal networking has been refactored to a separate Gradle module `lightwallet-client-lib` (and\n  therefore a separate artifact) which is a transitive dependency of the Zcash Android SDK.\n    - The `z.cash.ecc.android.sdk.model.LightWalletEndpoint` class has been moved to `co.electriccoin.lightwallet.client.model.LightWalletEndpoint`\n    - The new networking module now provides a `LightWalletClient` for asynchronous calls.\n    - Most unary calls respond with the new `Response` class and its subclasses. Streaming calls will be updated\n      with the Response class later.\n    - SDK clients should avoid using generated GRPC objects, as these are an internal implementation detail and are in process of being removed from the public API.  Any clients using GRPC objects will find these have been repackaged from `cash.z.wallet.sdk.rpc` to `cash.z.wallet.sdk.internal.rpc` to signal they are not a public API.\n\n## 1.12.0-beta01\n### Changed\n - `TransactionOverview`, `Transaction.Sent`, and `Transaction.Received` have `minedHeight` as a nullable field now.  This fixes a potential crash when fetching transactions when a transaction is in the mempool\n\n## 1.11.0-beta01\n### Added\n- `cash.z.ecc.android.sdk`:\n  - `Synchronizer.getUnifiedAddress`\n  - `Synchronizer.getSaplingAddress`\n  - `Synchronizer.isValidUnifiedAddr`\n  - `Synchronizer.getMemos(TransactionOverview)`\n  - `Synchronizer.getReceipients(TransactionOverview)`\n- `cash.z.ecc.android.sdk.model`:\n  - `Account`\n  - `FirstClassByteArray`\n  - `PendingTransaction`\n  - `Transaction`\n  - `UnifiedSpendingKey`\n- `cash.z.ecc.android.sdk.tool`:\n  - `DerivationTool.deriveUnifiedSpendingKey`\n  - `DerivationTool.deriveUnifiedFullViewingKey`\n  - `DerivationTool.deriveTransparentAccountPrivateKey`\n  - `DerivationTool.deriveTransparentAddressFromAccountPrivateKey`\n  - `DerivationTool.deriveUnifiedAddress`\n  - `DerivationTool.deriveUnifiedFullViewingKeys`\n  - `DerivationTool.validateUnifiedFullViewingKey`\n    - Still unimplemented.\n- `cash.z.ecc.android.sdk.type`:\n  - `AddressType.Unified`\n  - `UnifiedFullViewingKey`, representing a Unified Full Viewing Key as specified in\n    [ZIP 316](https://zips.z.cash/zip-0316#encoding-of-unified-full-incoming-viewing-keys).\n\n### Changed\n- The following methods now take or return `UnifiedFullViewingKey` instead of\n  `UnifiedViewingKey`:\n    - `cash.z.ecc.android.sdk`:\n      - `Initializer.Config.addViewingKey`\n      - `Initializer.Config.importWallet`\n      - `Initializer.Config.newWallet`\n      - `Initializer.Config.setViewingKeys`\n- `cash.z.ecc.android.sdk`:\n  - `Synchronizer.Companion.new` now takes many of the arguments previously passed to `Initializer`. In addition, an optional `seed` argument is required for first-time initialization or if `Synchronizer.new` throws an exception indicating that an internal migration requires the wallet seed.  (This second case will be true the first time existing clients upgrade to this new version of the SDK).\n  - `Synchronizer.new()` now returns an instance that implements the `Closeable` interface.  `Synchronizer.stop()` is effectively renamed to `Synchronizer.close()`\n  - `Synchronizer` ensures that multiple instances cannot be running concurrently with the same network and alias\n  - `Synchronizer.sendToAddress` now takes a `UnifiedSpendingKey` instead of an encoded\n    Sapling extended spending key, and the `fromAccountIndex` argument is now implicit in\n    the `UnifiedSpendingKey`.\n  - `Synchronizer.shieldFunds` now takes a `UnifiedSpendingKey` instead of separately\n    encoded Sapling and transparent keys.\n  - `Synchronizer` methods that previously took an `Int` for account index now take an `Account` object\n  - `Synchronizer.sendToAddress()` and `Synchronizer.shieldFunds()` return flows that can now be collected multiple times.  Prior versions of the SDK had a bug that could submit transactions multiple times if the flow was collected more than once.\n- Updated dependencies:\n  - Kotlin 1.7.21\n  - AndroidX\n  - etc.\n- Updated checkpoints\n\n### Removed\n- `cash.z.ecc.android.sdk`:\n  - `Initializer` (use `Synchronizer.new` instead)\n  - `Synchronizer.start()` - Synchronizer is now started automatically when constructing a new instance.\n  - `Synchronizer.getAddress` (use `Synchronizer.getUnifiedAddress` instead).\n  - `Synchronizer.getShieldedAddress` (use `Synchronizer.getSaplingAddress` instead)\n  - `Synchronizer.cancel`\n  - `Synchronizer.cancelSpend`\n- `cash.z.ecc.android.sdk.type.UnifiedViewingKey`\n  - This type had a bug where the `extpub` field actually was storing a plain transparent\n    public key, and not the extended public key as intended. This made it incompatible\n    with ZIP 316.\n- `cash.z.ecc.android.sdk.tool`:\n  - `DerivationTool.deriveSpendingKeys` (use `DerivationTool.deriveUnifiedSpendingKey` instead)\n  - `DerivationTool.deriveViewingKey` (use `DerivationTool.deriveUnifiedFullViewingKey` instead)\n  - `DerivationTool.deriveTransparentAddress` (use `Synchronizer.getLegacyTransparentAddress` instead).\n  - `DerivationTool.deriveTransparentAddressFromPrivateKey` (use `Synchronizer.getLegacyTransparentAddress` instead).\n  - `DerivationTool.deriveTransparentAddressFromPublicKey` (use `Synchronizer.getLegacyTransparentAddress` instead).\n  - `DerivationTool.deriveTransparentSecretKey` (use `DerivationTool.deriveUnifiedSpendingKey` instead).\n  - `DerivationTool.deriveShieldedAddress`\n  - `DerivationTool.deriveUnifiedViewingKeys` (use `DerivationTool.deriveUnifiedFullViewingKey` instead)\n  - `DerivationTool.validateUnifiedViewingKey`\n\n## Version 1.9.0-beta05\n- The minimum version of Android supported is now API 21\n- Fixed R8/ProGuard consumer rule, which eliminates a runtime crash for minified apps\n\n## Version 1.9.0-beta04\n- The SDK now stores sapling param files in `no_backup/co.electricoin.zcash` folder instead of the `cache/params`\n  folder. Besides that, `SaplingParamTool` also does validation of downloaded sapling param file hash and size.\n**No action required from client app**.\n\n## Version 1.9.0-beta03\n- No changes; this release is a test of a new deployment process\n\n## Version 1.9.0-beta02\n- The SDK now stores database files in `no_backup/co.electricoin.zcash` folder instead of the `database` folder. **No action required from client app**.\n\n## Version 1.9.0-beta01\n - Split `ZcashNetwork` into `ZcashNetwork` and `LightWalletEndpoint` to decouple network and server configuration\n - Gradle 7.5.1\n - Updated checkpoints\n\n## Version 1.8.0-beta01\n- Enabled automated unit tests run on the CI server\n- Added `BlockHeight` typesafe object to represent block heights\n- Significantly reduced memory usage, fixing potential OutOfMemoryError during block download\n- Kotlin 1.7.10\n- Updated checkpoints\n\n## Version 1.7.0-beta01\n- Added `Zatoshi` typesafe object to represent amounts.\n- Kotlin 1.7.0\n\n## Version 1.6.0-beta01\n- Updated checkpoints for Mainnet and Testnet\n- Fix: SDK can now be used on Intel x86_64 emulators\n- Prevent R8 warnings for apps consuming the SDK\n\n## Version 1.5.0-beta01\n- New: Transactions can be created after NU5 activation.\n- New: Support for receiving v5 transactions.\n- Known issues: The SDK will not run on Intel 64-bit API 31+ emulators.  Workarounds include: testing on a physical device, using an older 32-bit API version Intel emulator, or using an ARM emulator.\n\n## Version 1.4.0-beta01\n- Main entrypoint to the SDK has changed.  See [MIGRATIONS.md](MIGRATIONS.md)\n- The minimum version of Android supported is now API 19\n- Updated checkpoints for Mainnet and Testnet\n- Internal bugfixes around concurrent access to resources, which could cause transient failures and data corruption\n- Added ProGuard rules so that SDK clients can use R8 to shrink their apps\n- Updated dependencies, including Kotlin 1.6.21, Coroutines 1.6.1, GRPC 1.46.0, Okio 3.1.0, NDK 23\n- Known issues: The SDK will not run on Intel 64-bit API 31+ emulators.  Workarounds include: testing on a physical device, using an older 32-bit API version Intel emulator, or using an ARM emulator.\n\n## Version 1.3.0-beta20\n- New: Updated checkpoints for Mainnet and Testnet\n\n## Version 1.3.0-beta19\n- New: Updated checkpoints for Mainnet and Testnet\n- Fix: Repackaged internal classes to a new `internal` package name\n- Fix: Testnet checkpoints have been corrected\n- Updated dependencies\n\n## Version 1.3.0-beta18\n- Fix: Corrected logic when calculating birthdates for wallets with zero received notes.\n\n## Version 1.3.0-beta17\n- Fix: Autoshielding confirmation count error so funds are available after 10 confirmations.\n- New: Allow developers to enable Rust logs.\n- New: Accept GZIP compression from lightwalletd.\n- New: Reduce the UTXO retry time.\n\n## Version 1.3.0-beta16\n- Fix: Gracefully handle failures while fetching UTXOs.\n- New: Expose StateFlows for balances.\n- New: Make it easier to subscribe to transactions.\n- New: Cleanup default logs.\n- New: Convenience functions for WalletBalance objects.\n\n## Version 1.3.0-beta15\n- Fix: Increase reconnection attempts on failed app restart.\n- New: Updated checkpoints for testnet and mainnet.\n\n## Version 1.3.0-beta14\n- New: Add separate flows for sapling, orchard and tranparent balances.\n- Fix: Continue troubleshooting and fixing server disconnects.\n- Updated dependencies.\n\n## Version 1.3.0-beta12\n- New: Expose network height as StateFlow.\n- Fix: Reconnect to lightwalletd when a service exception occurs.\n\n## Version 1.3.0-beta11\n- Fix: Remove unused flag that was breaking new wallet creation for some wallets.\n\n## Version 1.3.0-beta10\n- Fix: Make it safe to call the new prepare function more than once.\n\n## Version 1.3.0-beta09\n- New: Add quick rewind feature, which makes it easy to rescan blocks after an upgrade.\n- Fix: Repair complex data migration bug that caused crashes on upgrades.\n\n## Version 1.3.0-beta08\n- Fix: Disable librustzcash logs by default.\n\n## Version 1.3.0-beta07\n- Fix: Address issues with key migration, allowing wallets to reset viewing keys, when needed.\n\n## Version 1.3.0-beta06\n- Fix: Repair publishing so that AARs work on Windows machines [issue #222].\n- Fix: Incorrect BranchId on 32-bit devics [issue #224].\n- Fix: Rescan should not go beyond the wallet checkpoint.\n- New: Drop Android Jetifier since it is no longer used.\n- Updated checkpoints, improved tests (added Test Suites) and better error messages.\n\n## Version 1.3.0-beta05\n- Major: Consolidate product flavors into one library for the SDK instead of two.\n- Major: Integrates with latest Librustzcash including full Data Access API support.\n- Major: Move off of JCenter and onto Maven Central.\n- New: Adds Ktlint [Credit: @nighthawk24]\n- Fix: Added SaplingParamTool and ability to clear param files from cache [Credit: @herou]\n- New: Added responsible disclosure document for vulnerabilities [Credit: @zebambam]\n- New: UnifiedViewingKey concept.\n- New: Adds support for autoshielding, including database migrations.\n- New: Adds basic support for UTXOs, including refresh during scan.\n- New: Support the ability to wipe all sqlite data and rebuild from keys.\n- New: Switches to ZOMG lightwalletd instances.\n- Fix: Only notify subscribers when a new block is detected.\n- New: Add scan metrics and callbacks for apps to measure performance.\n- Fix: Improve error handling and surface critical Initialization errors.\n- New: Adds cleanup and removal of failed transactions.\n- New: Improved logic for determining the wallet birthday.\n- New: Add the ability to rewind and rescan blocks.\n- New: Better safeguards against testnet v mainnet data contamination.\n- New: Improved troubleshooting of ungraceful shutdowns.\n- Docs: Update README to draw attention to the demo app.\n- New: Expose transaction count.\n- New: Derive sapling activation height from the active network.\n- New: Latest checkpoints for mainnet and testnet.\n\n## Version 1.2.1-beta04\n- New: Updated to latest versions of grpc, grpc-okhttp and protoc\n- Fix: Addresses root issue of Android 11 crash on SSL sockets\n\n## Version 1.2.1-beta03\n- New: Implements ZIP-313, reducing the default fee from 10,000 to 1,000 zats.\n- Fix: 80% reduction in build warnings from 90 -> 18 and improved docs [Credit: @herou].\n\n## Version 1.2.1-beta02\n- New: Improve birthday configuration and config functions.\n- Fix: Broken layout in demo app transaction list.\n\n## Version 1.2.1-beta01\n- New: Added latest checkpoints for testnet and mainnet.\n- New: Added display name for Canopy.\n- New: Update to the latest lightwalletd service definition.\n- Fix: Convert Initializer.Builder to Initializer.Config to simplify the constructors.\n\n## Version 1.2.0-beta01\n- New: Added ability to erase initializer data.\n- Fix: Updated to latest librustzcash, fixing send functionality on Canopy.\n\n## Version 1.1.0-beta10\n- New: Modified visibility on a few things to facilitate partner integrations.\n\n## Version 1.1.0-beta08\n- Fix: Publishing has been corrected by jcenter's support team.\n- New: Minor improvement to initializer\n\n## Version 1.1.0-beta05\n- New: Synchronizer can now be started with just a viewing key.\n- New: Initializer improvements.\n- New: Added tool for loading checkpoints.\n- New: Added tool for deriving keys and addresses, statically.\n- New: Updated and revamped the demo apps.\n- New: Added a bit more (unofficial) t-addr support.\n- Fix: Broken testnet demo app.\n- Fix: Publishing configuration.\n\n## Version 1.1.0-beta04\n- New: Add support for canopy on testnet.\n- New: Change the default lightwalletd server.\n- New: Add lightwalletd service for fetching t-addr transactions.\n- New: prove the concept of local RPC via protobufs.\n- New: Iterate on the demo app.\n- New: Added new checkpoints.\n- Fix: Minor enhancements.\n\n## Version 1.1.0-beta03\n- New: Add robust support for transaction cancellation.\n- New: Update to latest version of librustzcash.\n- New: Expand test support.\n- New: Improve and simplify intialization.\n- New: Flag when rust is running in debug mode, causing a 10X slow down.\n- New: Contributing guidelines.\n- Fix: Minor cleanup and improvements.\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/CHANGELOG.md b/CHANGELOG.md
--- a/CHANGELOG.md	(revision 3c7ad23d5bb906f399950df4de6dd2f8a8183f05)
+++ b/CHANGELOG.md	(date 1750832144980)
@@ -6,8 +6,10 @@
 
 ## [Unreleased]
 
+## [2.2.15] - 2025-06-26
+
 ### Fixed
-- Tor client is now optional in case it's instantiation fails to prevent SDK
+- Tor client is now optional in case it's instantiation fails to prevent SDK from crashing
 
 ## [2.2.14] - 2025-06-16
 
Index: sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2962500.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2962500.json b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2962500.json
new file mode 100644
--- /dev/null	(date 1750832202265)
+++ b/sdk-lib/src/main/assets/co.electriccoin.zcash/checkpoint/mainnet/2962500.json	(date 1750832202265)
@@ -0,0 +1,8 @@
+{
+  "network": "main",
+  "height": "2962500",
+  "hash": "0000000001a944b0564551930f441542e4cc7a55d04b9eb4b9798405eef0379a",
+  "time": 1750157587,
+  "saplingTree": "01cf2151f8a3ab844db9d002965659c834b5c744b4634e06483b2eaa8e23583845015c7de8b1157415e1b888a6332d905daf6197f7f2b0806e4c3477c1cdfa1d99681f01976568716cf68f4c465cfe8249523f72be84b7b357ada56c4bede2400b21eb140122c50432d809e7248e9042df73b0a1d2b1cf72fe49990157520e5fefc23be26a000167effc8051b2447894aef744ab771864a5b7289cdfde66d1d6abafd98570955601aeead2ee1b7e52bf368cbc8546348f5512d974bcb546335300e9943ca2bd841e00018db3e780de9dce426dc3e83e0330933166c7a1c76d54112952e74ce30b90854b00000001423d40e065a786a345af381165ac9489df3d81e0ae77ac74873cbb40d542ab5b016a582a7f4319b75fe5422c23f403df1f3de10ec81d4671c0e375633ebf5a982701373d9f359cef6d84b6b39bb8b093f326fcac45e04449baa6e2953fbc8706802a0001060af6a6c1415a6eaf780073ffa3d0ab35af7bb391bccc4e6ea65a1230dad83001ab58f1ebb2860e257c50350a3e1b54778b7729bdd11eacaa9213c4b5f4dbb44c00017d1ce2f0839bdbf1bad7ae37f845e7fe2116e0c1197536bfbad549f3876c3c590000013e2598f743726006b8de42476ed56a55a75629a7b82e430c4e7c101a69e9b02a011619f99023a69bb647eab2d2aa1a73c3673c74bb033c3c4930eacda19e6fd93b0000000160272b134ca494b602137d89e528c751c06d3ef4a87a45f33af343c15060cc1e0000000000",
+  "orchardTree": "0182f3f9227b2c14e6842e4c7259e430a1d6e3b0d38ebd96344a1517052f7c0817001f0000000000000001a455191b65d9d230a19daca45837f6ffe667dc561ca5e96730172b0d35c62b15000001abfd0108650c123d2f0c7bfe77ca5a47cb911587feb87a033f50d044bea1aa03000001fb5f9ae21147326374eda385015f1e471ee8644e0e91f1c64a0309f533d43f2400014c093ed9408ece3d125981e3d091e9c811ba0472a15ed8a14eca311642d7ec3100012d113bc8f6a4f41b3963cfa0717176c2d31ce7bfae4d250a1fff5e061dd9d3250160040850b766b126a2b4843fcdfdffa5d5cab3f53bc860a3bef68958b5f066170001cc2dcaa338b312112db04b435a706d63244dd435238f0aa1e9e1598d35470810012dcc4273c8a0ed2337ecf7879380a07e7d427c7f9d82e538002bd1442978402c01daf63debf5b40df902dae98dadc029f281474d190cddecef1b10653248a234150001e2bca6a8d987d668defba89dc082196a922634ed88e065c669e526bb8815ee1b000000000000"
+}
